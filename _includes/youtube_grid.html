<style>
.video-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  grid-gap: 20px;
}

.video-item {
  padding: 10px;
}

.video-item img {
  max-width: 100%;
}
</style>

<div id="youtube-playlist" class="video-grid"></div>

<script>
  const apiKey = "{{ site.youtube_api_key }}";
  const playlistId = "{{ include.playlist_id }}";
  const apiUrl = `https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=50&playlistId=${playlistId}&key=${apiKey}`;

  fetch(apiUrl)
    .then(response => response.json())
    .then(data => {
      const playlistContainer = document.getElementById("youtube-playlist");
      data.items.forEach(item => {
        const videoId = item.snippet.resourceId.videoId;
        const videoTitle = item.snippet.title;
        const videoThumbnail = item.snippet.thumbnails.medium.url;

        const videoItem = document.createElement("div");
        videoItem.classList.add("video-item");

        const videoLink = document.createElement("a");
        videoLink.href = `https://www.youtube.com/watch?v=${videoId}`;
        videoLink.target = "_blank";

        const videoImg = document.createElement("img");
        videoImg.src = videoThumbnail;

        const videoTitleElement = document.createElement("p");
        videoTitleElement.textContent = videoTitle;

        videoLink.appendChild(videoImg);
        videoItem.appendChild(videoLink);
        videoItem.appendChild(videoTitleElement);
        playlistContainer.appendChild(videoItem);
      });
    });
</script>
